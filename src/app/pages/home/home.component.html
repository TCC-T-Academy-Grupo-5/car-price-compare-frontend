<div class="tcc-flex flex-col text-center">
  <h3>{{ 'home.find_dream_car' | translate }}</h3>

  <div class="relative w-full h-64 md:h-[256px]">
    <img
      [src]="vehicleImgDesktop"
      [alt]="vehicleTypes[selectedType] + ' image'"
      class="absolute inset-0 hidden md:block object-contain w-full h-full"
      height="256"
      width="332"
    />

    <img
      [src]="vehicleImgMobile"
      [alt]="vehicleTypes[selectedType] + ' image mobile'"
      class="absolute inset-0 block md:hidden object-contain w-full h-full"
      height="256"
      width="332"
    />
  </div>

    <div class="search-wrapper tcc-flex">
      <input type="text" [(ngModel)]="searchText" (input)="onSearchTextChange()" placeholder="{{ 'placeholder.search' | translate }}" class="outline-none">
      <span class="bg-highlight dark:bg-highlight-light rounded-full inline-flex items-center justify-center h-8 w-8">
          <i class="material-symbols-outlined text-primary-light dark:text-primary text-sm">search</i>
      </span>
    </div>

    <div *ngIf="brandsSuggestions.length > 0 || modelSuggestions.length > 0" class="w-1/2 max-h-96 bg-white border border-gray-300 mt-1 overflow-y-auto shadow-lg z-10">

      <ul *ngIf="brandsSuggestions.length > 0" class="suggestions-list">
        <p class="font-bold px-3 py-2 dark:text-primary">Brand</p>
        <li *ngFor="let brand of brandsSuggestions" class="px-3 py-2 hover:bg-gray-100 cursor-pointer dark:text-primary" (click)="onBrandSelected(brand.name)" (keydown.enter)="onBrandSelected(brand.name)" tabindex="0">
          {{ brand.name }}
        </li>
      </ul>

      <ul *ngIf="modelSuggestions.length > 0" class="suggestions-list">
        <p class="font-bold px-3 py-2 dark:text-primary">Models</p>
        <li *ngFor="let model of modelSuggestions" class="px-3 py-2 hover:bg-gray-100 cursor-pointer dark:text-primary" (click)="onModelSelected(model.name)" (keydown.enter)="onModelSelected(model.name)" tabindex="0">
          {{ model.name }}
        </li>
      </ul>

    </div>

    <tcc-filter></tcc-filter>

    <h4 class="my-2"> {{ 'vehicle.type' | translate }} </h4>
    <tcc-filter-type [selectedType]="selectedType" (typeSelected)="onTypeSelected($event)"/>

    <h4 class="my-2"> {{ 'models.brand.plural' | translate }} </h4>
    <tcc-filter-brand [brands]="brands" />

<!--  <ng-template #noBrands class="centralize">-->
<!--    <tcc-spinner [object]="'models.brand' | translate" />-->
<!--  </ng-template>-->

</div>
